(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{634:function(t,s,a){"use strict";a.r(s);var e=a(3),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("博客发表流程：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("项目文件下新建 Markdown 文章")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("git push")])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("Github & Gitee 双端自动部署。")])]),t._v(" "),a("h2",{attrs:{id:"开始之前"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开始之前"}},[t._v("#")]),t._v(" 开始之前")]),t._v(" "),a("blockquote",[a("p",[t._v("这是我的第一个博客网站，前后花费了差不多一个星期，期间参考了大量博文，文档。")]),t._v(" "),a("p",[t._v("总结建站前后的经验写下第一篇关于本博客的部署教程的博文，希望能够帮助和我一样摸索建站的人。")]),t._v(" "),a("p",[t._v("​\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t——于朝阳升起处，我将踏上旅程")])]),t._v(" "),a("p",[a("strong",[t._v("项目描述")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("一个基于 Vuepress 第三方主题 vuepress-theme-reco 搭建的静态博客")])]),t._v(" "),a("li",[a("p",[t._v("托管项目代码在 Github 仓库，并使用 Github Pages 服务运行网站。")])]),t._v(" "),a("li",[a("p",[t._v("使用 Github Action 实现自动编译部署。")])]),t._v(" "),a("li",[a("p",[t._v("使用 Github Action 实现同步推送仓库代码至 Gitee 和更新 Gitee Pages 服务。")])])]),t._v(" "),a("blockquote",[a("p",[t._v("Github My Blog : "),a("a",{attrs:{href:"https://qijieh.github.io/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://qijieh.github.io/blog"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Gitee My Blog : "),a("a",{attrs:{href:"https://qijieh.gitee.io/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://qijieh.gitee.io/blog"),a("OutboundLink")],1)])]),t._v(" "),a("p",[a("strong",[t._v("项目优越")])]),t._v(" "),a("ul",[a("li",[t._v("纯静态页面，无需后台数据库。")]),t._v(" "),a("li",[t._v("Github Pages 服务，无需单独服务器。")]),t._v(" "),a("li",[t._v("Git 更新，管理网站。")]),t._v(" "),a("li",[t._v("Github Action 自动部署，专注写作。")]),t._v(" "),a("li",[t._v("Gitee 同步推送，自动更新 Gitee Pages , 更好的国内访问体验")])]),t._v(" "),a("p",[a("strong",[t._v("项目技术")])]),t._v(" "),a("p",[t._v("本项目使用 Vuepress 第三方主题 vuepress-theme-reco 构建，在开始之前你应该对 Vuepress 有一个基本了解，并对其构建流程有一定的初步掌握。")]),t._v(" "),a("p",[t._v("强烈建议按照官方文档在个人电脑上构建一个官方的 Vuepress 项目，以便更好的开始使用接下来的 Vuepress 第三方博客主题。")]),t._v(" "),a("p",[t._v("除此之外，你还需要掌握基本的 Git 使用方法以及对 Github 仓库各项配置的理解和使用，包括 Github Action 的初步认知。")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://www.vuepress.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuepress 中文文档"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-theme-reco 官方文档"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("阮一峰 GitHub Actions 入门教程"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"快速开始"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速开始"}},[t._v("#")]),t._v(" 快速开始")]),t._v(" "),a("p",[a("strong",[t._v("npx")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("npx @vuepress-reco/theme-cli init\n")])])]),a("p",[a("strong",[t._v("npm")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 初始化")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" @vuepress-reco/theme-cli -g\ntheme-cli init\n")])])]),a("p",[a("strong",[t._v("yarn")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 初始化")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" global "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @vuepress-reco/theme-cli\ntheme-cli init\n")])])]),a("p",[t._v("一切就绪后按照提示，进入项目目录，并安装依赖 (本文之后都将使用 npm 进行管理)")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 进入项目目录")]),t._v("\ncd my"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("blog\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装依赖")]),t._v("\nnpm install\n")])])]),a("p",[t._v("通过命令行键入以下命令，并访问监听端口即可查看网站")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("npm run dev\n")])])]),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200804232214.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改配置"}},[t._v("#")]),t._v(" 修改配置")]),t._v(" "),a("p",[t._v("网站的各项信息配置存储在了 "),a("code",[t._v(".vuepress/config.js")])]),t._v(" "),a("p",[t._v("通过修改 "),a("code",[t._v("config.js")]),t._v(" 文件，你可以修改替换网站的大部分预设内容，如 网站标题，logo图标，导航栏Tab选项卡等等。")]),t._v(" "),a("p",[a("code",[t._v(".vuepress/config.js")]),t._v(" 可以分为以下几个部分")]),t._v(" "),a("ul",[a("li",[t._v("基本配置 "),a("code",[t._v("title")]),t._v(" "),a("code",[t._v("description")]),t._v(" 等等")]),t._v(" "),a("li",[t._v("主题配置 "),a("code",[t._v("theme")]),t._v(" "),a("code",[t._v("themeConfig")])]),t._v(" "),a("li",[t._v("插件配置 "),a("code",[t._v("plugins")])]),t._v(" "),a("li",[t._v("Markdown 配置 "),a("code",[t._v("markdown")])])]),t._v(" "),a("p",[t._v("其中的各项属性说明和配置方法你均可在 "),a("a",{attrs:{href:"https://www.vuepress.cn/config/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuepress 配置"),a("OutboundLink")],1),t._v(" ，"),a("a",{attrs:{href:"https://www.vuepress.cn/theme/default-theme-config.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuepress 默认主题配置"),a("OutboundLink")],1),t._v(" 和 "),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/1.x/configJs.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("reco Config.js"),a("OutboundLink")],1),t._v(" 中查询得到。")]),t._v(" "),a("p",[t._v("请自行参考文档说明替换相应属性值。")]),t._v(" "),a("blockquote",[a("p",[t._v("网站的静态资源存储在了 "),a("code",[t._v(".vuepress/public")]),t._v(" 目录下，其设定了全局的相对路径，你只需要以 "),a("code",[t._v("/")]),t._v(" 开头对其进行直接引用。")]),t._v(" "),a("p",[t._v("比如替换网站的 logo 图片为 "),a("code",[t._v(".vuepress/public/web-img/logo.png")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  themeConfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    logo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'web-img/logo.png'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("blockquote",[a("p",[t._v("关于主题的夜间模式配置请单独参考：")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/1.x/mode.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("暗色模式适配"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("404 腾讯公益关闭方法：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  theme"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reco'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  themeConfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    noFoundPageByTencent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("这里需要额外注意 base 和 dest 属性：")]),t._v(" "),a("p",[a("strong",[t._v("base")])]),t._v(" "),a("ul",[a("li",[t._v("类型: "),a("code",[t._v("string")])]),t._v(" "),a("li",[t._v("默认值: "),a("code",[t._v("/")])])]),t._v(" "),a("p",[t._v("部署站点的基础路径，如果你想让你的网站部署到一个子路径下，你将需要设置它。如 GitHub pages，如果你想将你的网站部署到 "),a("code",[t._v("https://foo.github.io/bar/")]),t._v("，那么 "),a("code",[t._v("base")]),t._v(" 应该被设置成 "),a("code",[t._v('"/bar/"')]),t._v("，它的值应当总是以斜杠开始，并以斜杠结束。")]),t._v(" "),a("p",[a("code",[t._v("base")]),t._v(" 将会作为前缀自动地插入到所有以 "),a("code",[t._v("/")]),t._v(" 开始的其他选项的链接中，所以你只需要指定一次。")]),t._v(" "),a("p",[a("strong",[t._v("dest")])]),t._v(" "),a("ul",[a("li",[t._v("类型: "),a("code",[t._v("string")])]),t._v(" "),a("li",[t._v("默认值: "),a("code",[t._v(".vuepress/dist")])])]),t._v(" "),a("p",[t._v("指定 "),a("code",[t._v("vuepress build")]),t._v(" 的输出目录。如果传入的是相对路径，则会基于 "),a("code",[t._v("process.cwd()")]),t._v(" 进行解析。")]),t._v(" "),a("p",[t._v("此处先做提醒可不做添加或修改，在 部署上线 步骤中再做详细讲解。")]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("运行命令，查看修改")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("npm run dev\n")])])]),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805152255.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"首页配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#首页配置"}},[t._v("#")]),t._v(" 首页配置")]),t._v(" "),a("p",[t._v("更换博客首页的 Banner 或 slogan 是单独在项目根目录下的 "),a("code",[t._v("README.md")]),t._v(" 文件进行的。")]),t._v(" "),a("p",[t._v("由于 "),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/1.x/home.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("reco 首页配置"),a("OutboundLink")],1),t._v(" 已经详细介绍，这里不再进行赘述。")]),t._v(" "),a("blockquote",[a("p",[t._v("reco 提供了三种首页样式，在 npx reco主题时，提供了选择支。")]),t._v(" "),a("ul",[a("li",[t._v("blog式")]),t._v(" "),a("li",[t._v("文档式")]),t._v(" "),a("li",[t._v("午后南杂")])]),t._v(" "),a("p",[t._v("如果你需要从文档式切换至blog式，只需修改 "),a("code",[t._v(".vuepress/config.js")]),t._v(" 主题配置的 "),a("code",[t._v("type")]),t._v(" 属性")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  theme"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reco'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  themeConfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'blog'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),a("p",[t._v("修改完成后，运行命令，查看修改")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("npm run dev\n")])])]),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805155833.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"自定样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定样式"}},[t._v("#")]),t._v(" 自定样式")]),t._v(" "),a("p",[t._v("如果你不满足于主题提供的默认样式，VuePress 提供了一些简单的接口文件，可以让你能够很方便地定制你自己想要的效果。")]),t._v(" "),a("h3",{attrs:{id:"修改主题颜色"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改主题颜色"}},[t._v("#")]),t._v(" 修改主题颜色")]),t._v(" "),a("p",[t._v("你可以通过配置 "),a("code",[t._v(".vuepress/styles/palette.styl")]),t._v(" （手动创建）来快速修改主题的一些颜色属性。")]),t._v(" "),a("div",{staticClass:"language-stylus extra-class"},[a("pre",{pre:!0,attrs:{class:"language-stylus"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 默认值")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$accentColor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#3eaf7c")]),t._v("                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 主题颜色")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$textColor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#2c3e50")]),t._v("                        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 文本颜色")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$borderColor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#eaecef")]),t._v("                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 边框线颜色")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$codeBgColor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#282c34")]),t._v("                      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 代码块背景色")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$backgroundColor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#ffffff")]),t._v("                  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 悬浮块背景色")])]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("色彩网站："),a("a",{attrs:{href:"https://nipponcolors.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("日式传统色"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("测试配色可读性："),a("a",{attrs:{href:"https://color.review/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Color.review"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"修改主题样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#修改主题样式"}},[t._v("#")]),t._v(" 修改主题样式")]),t._v(" "),a("p",[t._v("你可以创建一个 "),a("code",[t._v(".vuepress/styles/index.styl")]),t._v("文件以方便地添加额外样式。这是一个 Stylus 文件，但你也可以使用正常的 CSS 语法。")]),t._v(" "),a("p",[t._v("在网站任何可以访问的页面都可以通过 "),a("code",[t._v("index.styl")]),t._v(" 文件书写 CSS 样式，通过"),a("strong",[t._v("浏览器开发者工具")]),t._v("我们能够十分轻松的选择元素并添加或修改样式。")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/** .vuepress/styles/index.styl **/")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("// 修改网页背景色，增强可读性\nbody")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #f2f2f2 "),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("!important")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("// 修改导航栏搜索框圆弧化\n.search-box input")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-radius")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1.25rem "),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("!important")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("// 博文 box 背景\n.page-title,\n.theme-reco-content")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("background-color")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" #ffffff"),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("!important")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-radius")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 0.25rem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("box-shadow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("--box-shadow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("border")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" solid 1px "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("--border-color"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token selector"}},[t._v("// 分离博文标题与内容\n.page-title")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin-bottom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 32px"),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("!important")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n...\n")])])]),a("blockquote",[a("p",[t._v("如果你对样式修改没有头绪可以参考其他使用 reco主题的博客样式并自行修改")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/other/theme-example.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("reco 优秀博客案例"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("如果你需要本博客的自定义样式，可以访问博客仓库")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/QiJieH/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("qijieh/blog"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("运行 "),a("code",[t._v("npm run dev")]),t._v(" 查看我们修改的样式")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805160856.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805161235.png",loading:"lazy"}})]),t._v(" "),a("h3",{attrs:{id:"引用脚本与样式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#引用脚本与样式"}},[t._v("#")]),t._v(" 引用脚本与样式")]),t._v(" "),a("p",[t._v("你可以通过配置 "),a("code",[t._v(".vuepress/config.js")]),t._v(" 中的 "),a("code",[t._v("head")]),t._v(" 来引入自己的js脚本与样式。")]),t._v(" "),a("p",[t._v("通过外挂css和js来对主题样式曾铁，例如点击效果，花瓣雨等等特效。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  head"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"link"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"stylesheet"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"scripts/demo.js"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("比如上面的配置就会被解析为")]),t._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("link")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("rel")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("stylesheet"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("scripts/demo.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),a("p",[t._v("关于 "),a("code",[t._v("head")]),t._v(" 的详细配置说明请参考"),a("a",{attrs:{href:"https://v1.vuepress.vuejs.org/zh/config/#head",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档 head 配置"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[t._v("以引入鼠标点击效果为例：")])]),t._v(" "),a("p",[t._v("在"),a("code",[t._v(".vuepress\\public\\js")]),t._v("文件夹下创建"),a("code",[t._v("MouseClickEffect.js")]),t._v("文件，填入以下代码")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a_idx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRandom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("max"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" min")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("max "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" min "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" min"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("jQuery")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ready")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("click")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" a "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Array")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"富强"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"民主"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"文明"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"和谐"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"自由"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平等"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"公正"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"法治"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"爱国"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"敬业"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"诚信"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"友善"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" $i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<span/>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("text")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("a_idx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        a_idx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a_idx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" x "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageX"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        $i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("css")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"z-index"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("999999999999999999999999999999999999999999999999999999999999999999999")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"top"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"left"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" x"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"position"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"absolute"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"font-weight"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"bold"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"color"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("rgb(")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRandom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRandom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRandom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user-select"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cursor"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'default'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("append")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        $i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("animate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"top"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" y "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("180")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"opacity"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1500")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                $i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("remove")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("然后在主题配置文件"),a("code",[t._v("config.js")]),t._v("下的"),a("code",[t._v("head")]),t._v("引入以上js，这里的jquery必须引入，鼠标点击代码才能生效")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\thead"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 网页标签栏图标")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'link'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" rel"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'icon'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" href"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/vuepress/favicon.ico'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移动栏优化")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'meta'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'viewport'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'width=device-width,initial-scale=1,user-scalable=no'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入jquery")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"language"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"javascript"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 引入鼠标点击脚本")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"script"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"language"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"javascript"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/js/MouseClickEffect.js"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("参考博文："),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/other/reco-optimization.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-theme-reco个人向优化"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"添加文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加文章"}},[t._v("#")]),t._v(" 添加文章")]),t._v(" "),a("p",[t._v("在开始插件配置之前，先向网站添加几篇文章。")]),t._v(" "),a("p",[t._v("通过查看项目目录不难发现博客文章被存储在了 "),a("code",[t._v("blogs")]),t._v("  下，除此之外还有另外一个名为 "),a("code",[t._v("docs")]),t._v(" 的目录存储文档文件。如果你的博客网站不需要文档类型的博文，可以删除改 "),a("code",[t._v("docs")]),t._v(" 目录并删除 "),a("code",[t._v("config.js")]),t._v(" 中的 "),a("code",[t._v("themeConfig > nav")]),t._v(" 中的 Docs Tab选项。")]),t._v(" "),a("p",[t._v("在 "),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/other/question.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("reco issue"),a("OutboundLink")],1),t._v(" 中提到：")]),t._v(" "),a("blockquote",[a("p",[t._v("Q：文章的存放位置有规定吗？")]),t._v(" "),a("p",[t._v("A：你可以将你的文章存放在任意位置，但是你需要保证它是 VuePress 可以解析的位置，比如你使用的命令是 "),a("code",[t._v("vuepress dev docs")]),t._v(" ，那么请将所有文章存放在 "),a("code",[t._v("docs/")]),t._v(" 中，但是主题并不会强制你放在哪个子目录，这个按照你的喜好来即可，详情见 "),a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/directory-structure.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细的 VuePress 目录结构配置"),a("OutboundLink")],1),t._v("。")])]),t._v(" "),a("p",[t._v("尽管主题对文章存放位置没有硬性要求，但是你的项目结构应该保持整洁，建议沿用默认的存储路径。")]),t._v(" "),a("p",[t._v("比如有当前一篇文章 "),a("code",[t._v("Vue框架学习记录.md")]),t._v(" 拥有以下 Front Matter ：")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Vue框架学习记录\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token datetime number"}},[t._v("2020-08-05")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("categories")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" FrontEnd\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("tags")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" Vue\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("---")]),t._v("\n")])])]),a("p",[t._v("那么它的存储路径应该为 "),a("code",[t._v("blogs/FrontEnd/2020-8/Vue框架学习记录.md")]),t._v(" 。")]),t._v(" "),a("blockquote",[a("p",[t._v("主题不会根据你的文件路径来进行文章分类，而是对 Markdown 文件的 Front Matter 中的相关标签进行分类解析。")]),t._v(" "),a("p",[t._v("但是为了保持项目结构整洁请务必设置路径为分类名称。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/frontmatter.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuepress Front Matter"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/1.x/frontMatter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("reco Front Matter 示例"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("根据具体场景新建md文章，并修改存储路径。删除主题的测试文章，添加一篇自己的测试博文 （建议长度一定，拥有标题结构和代码块，方便后期测试）。")]),t._v(" "),a("p",[t._v("这是一个博文存储结构的示例：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("blogs\n├── FrontEnd\n│   ├── 2020-8\n│   │   └── article01.md\n│   └── 2020-7\n├── Java\n│   ├── 2020-8\n│   └── 2020-7\n└── Python\n")])])]),a("blockquote",[a("p",[t._v("向文章添加摘要，显示在博文列表中")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("这是摘要，在 more 标签之前的内容会展示到博文列表上\n**支持md语法**\n\x3c!-- more --\x3e\n")])])]),a("p",[a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/1.x/abstract.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("reco 添加摘要"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("更多 Vuepress Markdown 支持语法请查看：")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.vuepress.cn/guide/markdown.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuepress Markdown扩展"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("存储博文时务必以英文命名，否则可能导致 URL 混乱")])]),t._v(" "),a("p",[a("strong",[t._v("添加完成后，运行命令，查看添加成功与否")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("npm run dev\n")])])]),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805174613.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805174844.png",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"插件配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#插件配置"}},[t._v("#")]),t._v(" 插件配置")]),t._v(" "),a("p",[t._v("关于插件的配置语法 "),a("a",{attrs:{href:"https://www.vuepress.cn/plugin/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuepress 插件"),a("OutboundLink")],1),t._v(" 中已经详细说明，请自行参考文档了解其语法和使用方法。")]),t._v(" "),a("p",[t._v("至此一个完整的博客已经配置出来，但是如果你需要其他需求如 背景音乐播放器，live2d看板娘，代码快捷复制， markdown语法扩展等等，可以通过导入第三方插件来完善你的博客。")]),t._v(" "),a("p",[t._v("reco 主题已经内置了一些实用的插件，这些插件已经完全足够博客基本功能。"),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/plugins/",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击查看"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("但是你依旧可以通过访问 "),a("a",{attrs:{href:"https://github.com/vuepressjs/awesome-vuepress#plugins",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress插件社区"),a("OutboundLink")],1),t._v(" 或 "),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/other/recommend.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("reco主题插件广场"),a("OutboundLink")],1),t._v(" 来新添插件。")]),t._v(" "),a("blockquote",[a("p",[t._v("你可以通过这种方式来对主题内置插件的配置进行覆盖，甚至禁用一个内置插件")]),t._v(" "),a("p",[t._v("只需将 Options 设置成 "),a("code",[t._v("false")]),t._v(" 便可禁用该插件")]),t._v(" "),a("p",[t._v("就像这样")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vuepress-reco/vuepress-plugin-loading-page"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 禁用加载页面")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vuepress-reco/vuepress-plugin-back-to-top"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 返回顶部按钮")]),t._v("\n    \tvisibilityHeight"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),t._v("\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 覆盖其默认配置，重新设置为出现高度为 500")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),a("p",[a("strong",[t._v("接下来引入一个音乐播放器插件 "),a("a",{attrs:{href:"https://github.com/moefyit/vuepress-plugin-meting",target:"_blank",rel:"noopener noreferrer"}},[t._v("meting"),a("OutboundLink")],1),t._v(" 做为示例")])]),t._v(" "),a("ol",[a("li",[t._v("install 插件")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("npm install vuepress"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("meting "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("D\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在 "),a("code",[t._v(".vuepress/config.js")]),t._v(" 文件中引入插件并按照插件文档配置相关属性")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//....")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugins"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"meting"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        meting"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          auto"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://music.163.com/#/playlist?id=5156784198"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        aplayer"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          lrcType"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" \t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//禁用歌词显示")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        mobile"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 移动端设置")]),t._v("\n          cover"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 取消封面覆盖")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[a("code",[t._v("npm run dev")]),t._v(" 查看效果")])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805180316.png",loading:"lazy"}})]),t._v(" "),a("blockquote",[a("p",[t._v("对于新增的播放器，你也可以通过 "),a("code",[t._v(".vuepress/styles/index.styl")]),t._v(" 来为其修改样式")]),t._v(" "),a("p",[t._v("在浏览器通过"),a("strong",[t._v("开发者工具")]),t._v("选中播放器，查看元素类名")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".aplayer-body")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v("box-shadow")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("var")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("--box-shadow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("!important")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" // 为播放器添加阴影\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("a",{attrs:{href:"https://www.vuepress.cn/zh/config/#styling",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vuepress Styling"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("下面将列出推荐的插件链接：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/moefyit/vuepress-plugin-meting",target:"_blank",rel:"noopener noreferrer"}},[t._v("meting"),a("OutboundLink")],1),t._v(" ：简单易用的播放器插件，支持自动解析网易云单曲/歌单链接")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.vuepress.cn/plugin/official/plugin-pwa.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("@vuepress/pwa"),a("OutboundLink")],1),t._v(" ：网页内容更新提醒")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/vuepress-plugin-nuggets-style-copy",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-plugin-nuggets-style-copy"),a("OutboundLink")],1),t._v(" ：为代码块添加复杂按钮，并在复制成功后弹出提示信息")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/ulivz/vuepress-plugin-flowchart",target:"_blank",rel:"noopener noreferrer"}},[t._v("flowechart"),a("OutboundLink")],1),t._v(" ：使你的 Markdown 支持 flow 流程图")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/tolking/vuepress-plugin-img-lazy",target:"_blank",rel:"noopener noreferrer"}},[t._v("img-lazy"),a("OutboundLink")],1),t._v(" ：图片惰性加载")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://vuepress.github.io/zh/plugins/copyright/",target:"_blank",rel:"noopener noreferrer"}},[t._v("copyright"),a("OutboundLink")],1),t._v(" ：控制网站的复制行为")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://vuepress.github.io/zh/plugins/smooth-scroll",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuepress-plugin-smooth-scroll"),a("OutboundLink")],1),t._v(" ：更圆滑的页面滚动")])]),t._v(" "),a("p",[t._v("插件的安装引入大同小异，请自行参照插件文档进行配置。")]),t._v(" "),a("p",[a("strong",[t._v("由于评论插件 Vssue （ 已集合到 reco 自带插件 "),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/plugins/comments.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("comments"),a("OutboundLink")],1),t._v(" 中）的特殊性（需要配置项目仓库）将放在 部署上线 之后再进行配置")])]),t._v(" "),a("h2",{attrs:{id:"部署上线"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署上线"}},[t._v("#")]),t._v(" 部署上线")]),t._v(" "),a("p",[t._v("在正式开始部署上线之前，你应该对 vuepress 的构建流程有一个大致了解。")]),t._v(" "),a("p",[t._v("之前我们使用的 "),a("code",[t._v("npm run dev")]),t._v(" 模式运行了 vuepress 的开发模式，这个模式下是不会产生我们需要的静态资源的。")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// packages.json")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress dev ."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vuepress build ."')]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("只有运行 "),a("code",[t._v("npm run build")]),t._v(" 时才会在指定目录下构建出我们的博客网页")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dest"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('".vuepress/dist"')]),t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定 vuepress build 的输出目录")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("命令行运行 "),a("code",[t._v("npm run build")]),t._v(" ，检查在 "),a("code",[t._v(".vuepress/dist")]),t._v(" 下是否能构建出资源文件。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805193936.png",loading:"lazy"}})]),t._v(" "),a("blockquote",[a("p",[t._v("Error: cannot find module '../dist/manifest/client.json'")]),t._v(" "),a("p",[t._v("如果在构建过程中出现此项错误，你的系统环境变量中可能设置了 "),a("code",[t._v("NODE_ENV : development")]),t._v(" 将其修改为 "),a("code",[t._v("NODE_ENV ：production")]),t._v(" 即可。")]),t._v(" "),a("p",[t._v("详情查看 "),a("a",{attrs:{href:"https://github.com/vuejs/vuepress/issues/2194",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue.js issue"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"双端部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#双端部署"}},[t._v("#")]),t._v(" 双端部署")]),t._v(" "),a("p",[t._v("本博客同时部署到了 Github 和 Gitee 上，你可以尝试访问")]),t._v(" "),a("blockquote",[a("p",[t._v("Github My Blog : "),a("a",{attrs:{href:"https://qijieh.github.io/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://qijieh.github.io/blog"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("Gitee My Blog : "),a("a",{attrs:{href:"https://qijieh.gitee.io/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://qijieh.gitee.io/blog"),a("OutboundLink")],1)])]),t._v(" "),a("p",[a("strong",[t._v("在此之前你应该明白 Github 和 Gitee 的 Pages 服务差异")])]),t._v(" "),a("blockquote",[a("p",[t._v("Github 允许用户使用个人域名即 "),a("code",[t._v("https://[userName].github.io")]),t._v(" ，只需要在创建仓库时将仓库命名为 "),a("code",[t._v("[userName].github.io")]),t._v(" 即可")]),t._v(" "),a("p",[t._v("但是 Gitee 却不允许用户使用个人域名，即无论创建仓库命名为何，都只能指向 "),a("code",[t._v("https://[userName].gitee.io/[repoName]")])])]),t._v(" "),a("p",[t._v("这种差异增加了我们博客双端部署的难度，因为 Vuepress 对于部署到非根路径的项目有着相应配置参考 "),a("a",{attrs:{href:"https://www.vuepress.cn/guide/assets.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("基础路径"),a("OutboundLink")],1),t._v(" ，如果对部署到二级路径的项目没有设置 "),a("code",[t._v("config.js")]),t._v(" 文件中的 "),a("code",[t._v("base")]),t._v(" 值，将会导致网页资源的错误加载。")]),t._v(" "),a("p",[t._v("综上所述，为了保持项目的一致性我们不得不放弃使用 Github 提供的个人域名，去与 Gitee 保持一致使用二级域名，这也是为什么上方两个博客链接都不是非根路径的原因所在。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[t._v("如果你只需要部署到一个平台，请酌情参考本博文。")])]),t._v(" "),a("p",[a("strong",[t._v("新建仓库")])]),t._v(" "),a("p",[t._v("登录 Github 新建仓库，仓库命名自定，本博文以 "),a("code",[t._v("blog")]),t._v(" 命名仓库。")]),t._v(" "),a("blockquote",[a("p",[t._v("如果你需要进行双端部署切勿命名为 "),a("code",[t._v("[userName].github.io")]),t._v(" ，详见上方说明。")]),t._v(" "),a("p",[t._v("如果你只想部署在 Github 推荐以 "),a("code",[t._v("[userName].github.io")]),t._v(" 命名。")])]),t._v(" "),a("blockquote",[a("p",[t._v("其实命名为 "),a("code",[t._v("blog")]),t._v("  会导致博客 Url 混乱，因为reco主题的 router 设置了 /blogs/ 路由，将会导致出现这样的访问链接：")]),t._v(" "),a("p",[a("code",[t._v("https://qijieh.github.io/blog/blogs/FrontEnd/2020-8/article.html")])]),t._v(" "),a("p",[t._v("建议命名为："),a("code",[t._v("space")]),t._v(" ，"),a("code",[t._v("personal")]),t._v(" ，"),a("code",[t._v("room")]),t._v(" 等等")])]),t._v(" "),a("p",[t._v("登录 Gitee 新建仓库，建议仓库名与 Github 仓库名一致，方便访问。")]),t._v(" "),a("p",[a("strong",[t._v("部署方式")])]),t._v(" "),a("p",[t._v("部署方式分为两种 手动部署 和 自动部署，两种部署方式唯一的区别在于是否需要本地编译 "),a("code",[t._v("npm run build")]),t._v(" 出网页源码。")]),t._v(" "),a("p",[t._v("其详细流程如下：")]),t._v(" "),a("ul",[a("li",[t._v("手动部署 （易）\n"),a("ol",[a("li",[t._v("书写博文 或 修改主题")]),t._v(" "),a("li",[t._v("构建网页文件 "),a("code",[t._v("npm run build")])]),t._v(" "),a("li",[a("code",[t._v("git push")])])])]),t._v(" "),a("li",[t._v("自动部署 （难）\n"),a("ol",[a("li",[t._v("书写博文 或 修改主题")]),t._v(" "),a("li",[a("code",[t._v("git push")])])])])]),t._v(" "),a("blockquote",[a("p",[t._v("自动部署会在服务器端进行网页的构建和编译 "),a("code",[t._v("npm run build")]),t._v("，而不是在开发机上，管理员只需要专注于文章写作，构建部署工作全部交由服务器端完成。")]),t._v(" "),a("p",[t._v("尽管自动部署方案在实行时可能会花费大量时间成本，但是仍然建议你使用自动部署方案，感受 Github Action 的强大之处，并且其一旦完成，后期的维护成本将明显降低。")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("注意！！！只有自动部署方案才能实现 Gitee 的代码同步和 GiteePages 的自动更新，如果你需要将你的博客网站如同本博客一样在双平台自动部署，请参考自动部署方案。")])]),t._v(" "),a("h3",{attrs:{id:"手动部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#手动部署"}},[t._v("#")]),t._v(" 手动部署")]),t._v(" "),a("p",[t._v("由于 GithubPages 服务的渲染目录只预设了 "),a("code",[t._v("root")]),t._v(" 和 "),a("code",[t._v("docs")]),t._v(" ，我们得"),a("strong",[t._v("重新指定 build 的输出目录，将其重新设定为 "),a("code",[t._v("docs")])])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n    \t"),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dest"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"docs"')]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vuepress 生成目录")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("这样 "),a("code",[t._v("npm run build")]),t._v(" 的文件便会生成在 "),a("code",[t._v("docs")]),t._v(" 目录下。")]),t._v(" "),a("p",[a("strong",[t._v("构建并上传")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 确保在项目根目录\nnpm run build\n.....\nbuild success\n\ngit init\n.....\ngit push\n")])])]),a("blockquote",[a("p",[t._v("注意新建 "),a("code",[t._v(".gitignore")]),t._v(" 文件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("node_modules/\n")])])])]),t._v(" "),a("p",[t._v("上传完成之后，我们需要打开 Github 仓库页面，配置项目的 GithubPages 服务。")]),t._v(" "),a("p",[t._v("点击 仓库Setting 下拉找到 GithuPages 在 Source 中设置如下")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805210322.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("注意设置为 "),a("code",[t._v("/docs")]),t._v(" 目录，而不是默认的 "),a("code",[t._v("/root")]),t._v(" ，这样 GithubPages 就会解析我们 "),a("code",[t._v("/docs")]),t._v("  目录下的博客网页了。")]),t._v(" "),a("p",[t._v("现在点击上方的网址访问你的博客吧。")]),t._v(" "),a("p",[a("strong",[t._v("现在你的博客发布流程为：")])]),t._v(" "),a("ol",[a("li",[t._v("写博客 或 修改主题")]),t._v(" "),a("li",[a("code",[t._v("npm run build")])]),t._v(" "),a("li",[a("code",[t._v("git push")])])]),t._v(" "),a("p",[a("strong",[t._v("Gitee 同步解决方案")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("手动部署方案适合单仓库部署，如果你执意双端部署将会明显提高维护成本。")])]),t._v(" "),a("ol",[a("li",[t._v("打开创建的 Gitee 仓库  "),a("strong",[t._v("管理 > 基本设置 > 仓库远程地址")]),t._v(" 输入 Github 的仓库地址")])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"750","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805211042.png",loading:"lazy"}})]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("返回仓库代码页，"),a("strong",[t._v("点击仓库名旁边的同步按钮完成推送")])])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"750","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805211244.png",loading:"lazy"}})]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("这样 Github 仓库的代码便会同步至该仓库下，接下来只需要开启该仓库的 Gitee Pages 服务 ："),a("strong",[t._v("服务 > Gitee Pages")])])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"750","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200805211627.png",loading:"lazy"}})]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[t._v("点击链接访问你的网站吧。")])]),t._v(" "),a("p",[a("strong",[t._v("为什么不推荐手动部署的双端托管？")])]),t._v(" "),a("ul",[a("li",[t._v("首先你得知道 Gitee 仓库的同步功能是不支持自动同步的，也就是说，即使你更新了 Github 仓库的代码，Gitee 这边仍然需要你过来手动点击同步按钮来更新同步。")]),t._v(" "),a("li",[t._v("同样糟糕的是 Gitee Pages 服务和 Github Pages 服务不同，使用 GitHub Pages 时，每当项目有更新，GitHub 会自动帮我们重新部署 GitHub Pages。而 Gitee Pages 则不会如此，它仍需要你点击 Pages 服务的更新按钮来刷新内容！或者开通 Gitee Pages Pro 功能。而 Pro 功能的开通，需要满足以下其中一个条件：\n"),a("ul",[a("li",[t._v("花钱开通 Pro 功能，￥99/年。")]),t._v(" "),a("li",[t._v("Gitee 项目足够优秀，得到 Gitee 官方的推荐，那么 Gitee 就会提示“您的项目为推荐项目，已自动为您开通 Gitee Pages Pro。")])])])]),t._v(" "),a("p",[t._v("这样将意为着每次你在 Github 轻松完成了"),a("code",[t._v("git push")]),t._v(" ，你仍然需要登录你的 Gitee 仓库点击强制同步按钮拉取代码，再去点击 Pages 服务的刷新按钮更新网页。")]),t._v(" "),a("p",[a("strong",[t._v("手动部署双端托管的博客发布流程：")])]),t._v(" "),a("ol",[a("li",[t._v("写文章")]),t._v(" "),a("li",[a("code",[t._v("npm run build")])]),t._v(" "),a("li",[a("code",[t._v("git push")])]),t._v(" "),a("li",[t._v("登录 Gitee 仓库")]),t._v(" "),a("li",[t._v("点击强制同步按钮")]),t._v(" "),a("li",[t._v("点击 Pages 服务的更新按钮")])]),t._v(" "),a("p",[t._v("显然这是十分不友好的，但是当你只部署在 Github 平台上时就可以不用管 Gitee 了。")]),t._v(" "),a("h3",{attrs:{id:"自动部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动部署"}},[t._v("#")]),t._v(" 自动部署")]),t._v(" "),a("p",[t._v("如果你阅读了上方手动部署的解决方案，可以深感其的不便性，特别是进行 Github 和 Gitee 双平台托管的场景时。")]),t._v(" "),a("p",[t._v("接下来的部署方案，将让你从繁杂的提交流程中抽离出来，让你更加专注博客内容，而不是操心与网站的部署。")]),t._v(" "),a("p",[t._v("现在我们在 Github 和 Gitee 上各拥有一个 blog 仓库，而我们的自动部署方案将在 Github 上进行，借助于 Github Action 我们能够优雅的实现两个仓库的自动同步更新。")]),t._v(" "),a("h4",{attrs:{id:"初识githubaction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初识githubaction"}},[t._v("#")]),t._v(" 初识GithubAction")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/features/actions",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Actions"),a("OutboundLink")],1),t._v(" 是 GitHub 的"),a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2015/09/continuous-integration.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("持续集成服务"),a("OutboundLink")],1),t._v("，于2018年10月推出。")]),t._v(" "),a("blockquote",[a("h1",{attrs:{id:"automate-your-workflow-from-idea-to-production"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#automate-your-workflow-from-idea-to-production"}},[t._v("#")]),t._v(" Automate your workflow from idea to production")]),t._v(" "),a("p",[t._v("GitHub Actions makes it easy to automate all your software workflows, now with world-class CI/CD. Build, test, and deploy your code right from GitHub. Make code reviews, branch management, and issue triaging work the way you want.")])]),t._v(" "),a("p",[t._v("关于 Github Action 的初步入门教程可以参考 "),a("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("阮一峰 GitHub Actions 入门教程"),a("OutboundLink")],1),t._v(" ，其中也大致介绍了什么是 Github Action 。")]),t._v(" "),a("p",[t._v("如果你对 Github Action 感兴趣，希望深入了解其语法结构可以自行查阅 "),a("a",{attrs:{href:"https://docs.github.com/cn/actions",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"编写workflows文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编写workflows文件"}},[t._v("#")]),t._v(" 编写workflows文件")]),t._v(" "),a("p",[t._v("要想使用 Github Action 我们得在项目根目录下创建  "),a("code",[t._v(".github/workflows/main.yml")]),t._v(" 。")]),t._v(" "),a("p",[t._v("GitHub 只要发现"),a("code",[t._v(".github/workflows")]),t._v("目录里面有"),a("code",[t._v(".yml")]),t._v("文件，就会自动运行该文件。")]),t._v(" "),a("p",[a("code",[t._v(".github/workflows/main.yml")]),t._v("：")]),t._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[t._v("See More")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deploy GitHub Pages And Gitee Pages\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("push")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" master\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 构建并部署")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build-and-deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拉取仓库代码")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Checkout\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" actions/checkout@v2.3.1\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("persist-credentials")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("false")]),t._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 构建")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 VSSUE_CLIENT_ID : OAuth Apps")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("VSSUEID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.VSSUE_CLIENT_ID "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("VSSUESECRET")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.VSSUE_CLIENT_SECRET "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm install "),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" npm run build\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 部署到分支")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deploy\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" JamesIves/github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deploy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@3.5.9\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 ACCESS_TOKEN : Personal access tokens")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ACCESS_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 需要部署的分支")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BRANCH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vue项目 build 目录")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("FOLDER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" .vuepress/dist\n          \n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 同步 gitee 并 更新 giteepages")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sync-to-gitee")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("needs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("and"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deploy\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("steps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 克隆项目至 gitee")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sync to Gitee\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wearerequired/git"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mirror"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@v1.0.1\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 GITEE_RSA_PRIVATE_KEY : id_rsa")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 个人设置 -> SSH公钥 -> 上传公钥")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("SSH_PRIVATE_KEY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.GITEE_RSA_PRIVATE_KEY "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 GitHub 源仓库地址 SSH")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git@github.com:QiJieH/blog.git"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 Gitee 目标仓库地址")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("destination-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git@gitee.com:qijieh/blog.git"')]),t._v("\n\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新部署 gitee pages")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build Gitee Pages\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yanglbme/gitee"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@v1.1.3\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 Gitee 用户名")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" QiJieH\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 GITEE_PASSWORD : gitee password")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.GITEE_PASSWORD "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 Gitee 仓库")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" qijieh/blog\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 构建分支")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages\n")])])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("注意 YAML 语法对于Tab缩进有着严格要求，请务必确保代码缩进格式正确！！！")])]),t._v(" "),a("p",[t._v("以上是本博客的 workflows 流程，如果你熟悉 Github 和 Gitee 的相关配置你可以直接套用并替换相关属性即可。当然，我也会在下方逐一带领配置。")]),t._v(" "),a("p",[t._v("首先确保你的 "),a("code",[t._v("main.yml")]),t._v(" 文件路径正确，此时你的项目结构应该大致为：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(".\n├── .github\n│   └── workflows\n│\t\t└── main.yml\n├── .vuepress\n├── blogs\n├── node_modules\n├── .gitignore\n├── package.json\n├── package-lock.json\n└── README.md\n")])])]),a("blockquote",[a("p",[t._v("关于 "),a("code",[t._v(".gitignore")]),t._v(" 文件说明：")]),t._v(" "),a("p",[t._v("由于现在方案的编译环节 "),a("code",[t._v("npm run build")]),t._v(" 交由了 Github Action 完成，我们不再需要上传生成的静态文件目录")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("node_modules/\n.vuepress/dist/\n")])])])]),t._v(" "),a("p",[t._v("接下来将会对 "),a("code",[t._v(".github/workflows/main.yml")]),t._v(" 代码进行逐一讲解配置。")]),t._v(" "),a("h4",{attrs:{id:"基本字段说明"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本字段说明"}},[t._v("#")]),t._v(" 基本字段说明")]),t._v(" "),a("p",[a("strong",[t._v("1. "),a("code",[t._v("name")])])]),t._v(" "),a("p",[a("code",[t._v("name")]),t._v(" 字段是 workflow 的名称。如果省略该字段，默认为当前 workflow 的文件名。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("name: Deploy GitHub Pages And Gitee Pages\n")])])]),a("p",[a("strong",[t._v("2. "),a("code",[t._v("on")])])]),t._v(" "),a("p",[a("code",[t._v("on")]),t._v(" 字段指定触发 workflow 的条件，通常是某些事件。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("on:\n  push:\n    branches:\n      - master\n")])])]),a("p",[t._v("当推送至 "),a("code",[t._v("master")]),t._v(" 分支时，触发 workflow。")]),t._v(" "),a("p",[a("strong",[t._v("3. "),a("code",[t._v("jobs")])])]),t._v(" "),a("p",[a("code",[t._v("jobs")]),t._v(" 字段是 workflow 的主体当满足 "),a("code",[t._v("on")]),t._v(" 的条件时就会运行 "),a("code",[t._v("jobs")]),t._v(" 中的各项任务")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build-and-deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sync-to-gitee")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n")])])]),a("p",[a("strong",[t._v("4. "),a("code",[t._v("needs")])])]),t._v(" "),a("p",[a("code",[t._v("needs")]),t._v(" 字段当前 "),a("code",[t._v("job")]),t._v(" 的依赖关系，只有当 "),a("code",[t._v("needs")]),t._v(" 中的 "),a("code",[t._v("job")]),t._v(" 运行完成后才会执行当前 "),a("code",[t._v("job")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build-and-deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("sync-to-gitee")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  \t"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("needs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" build"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("and"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deploy\n")])])]),a("p",[t._v("其可以是一个 "),a("code",[t._v("job")]),t._v(" 数组 "),a("code",[t._v("[job1,job2]")])]),t._v(" "),a("p",[a("strong",[t._v("5. "),a("code",[t._v("runs-on")])])]),t._v(" "),a("p",[t._v("当前 "),a("code",[t._v("job")]),t._v(" 运行的虚拟机环境，必填字段")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("jobs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("build-and-deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("runs-on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" ubuntu"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("latest\n")])])]),a("p",[t._v("可用虚拟机如下")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("ubuntu-latest")]),t._v("，"),a("code",[t._v("ubuntu-18.04")]),t._v(" 或 "),a("code",[t._v("ubuntu-16.04")])]),t._v(" "),a("li",[a("code",[t._v("windows-latest")]),t._v("，"),a("code",[t._v("windows-2019")]),t._v("  或 "),a("code",[t._v("windows-2016")])]),t._v(" "),a("li",[a("code",[t._v("macOS-latest")]),t._v(" 或 "),a("code",[t._v("macOS-10.14")])])]),t._v(" "),a("p",[a("strong",[t._v("6."),a("code",[t._v("steps")])])]),t._v(" "),a("p",[a("code",[t._v("steps")]),t._v("字段指定每个 "),a("code",[t._v("Job")]),t._v(" 的运行步骤，可以包含一个或多个步骤。每个步骤都可以指定以下三个字段。")]),t._v(" "),a("blockquote",[a("ul",[a("li",[a("code",[t._v("name")]),t._v("：步骤名称。")]),t._v(" "),a("li",[a("code",[t._v("use")]),t._v(" ：使用市场发布的 action 脚本")]),t._v(" "),a("li",[a("code",[t._v("run")]),t._v("：该步骤运行的命令或者 action。")]),t._v(" "),a("li",[a("code",[t._v("env")]),t._v("：该步骤所需的环境变量。")]),t._v(" "),a("li",[a("code",[t._v("with")]),t._v(" ：额外配置信息")])])]),t._v(" "),a("p",[t._v("将 action 抽离出来，并设立市场复用代码正是 Github Action 的优越之处，在 "),a("a",{attrs:{href:"https://github.com/marketplace?type=actions",target:"_blank",rel:"noopener noreferrer"}},[t._v("Markplace"),a("OutboundLink")],1),t._v(" 中发布了大量的 action 脚本，你可以直接在 yml 文件中以代码仓库的方式引用。")]),t._v(" "),a("h4",{attrs:{id:"工作流程梳理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工作流程梳理"}},[t._v("#")]),t._v(" 工作流程梳理")]),t._v(" "),a("p",[a("code",[t._v("main.yml")]),t._v("  的工作流程可以总结为：")]),t._v(" "),a("ol",[a("li",[t._v("每当代码 push 到 master分支 时触发 wrokflow ，其一共有两个 "),a("code",[t._v("job")])]),t._v(" "),a("li",[t._v("执行 "),a("code",[t._v("build-and-deploy")]),t._v(" 任务，其分为三步 "),a("code",[t._v("step")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("Checkout")]),t._v(" ：使用了 "),a("a",{attrs:{href:"https://github.com/marketplace/actions/checkout",target:"_blank",rel:"noopener noreferrer"}},[t._v("actions/checkout"),a("OutboundLink")],1),t._v(" 拉取代码到虚拟机")]),t._v(" "),a("li",[a("code",[t._v("build")]),t._v(" ：在虚拟机运行命令行 "),a("code",[t._v("npm install && npm run build")]),t._v(" "),a("strong",[t._v("就是在这一步服务器帮我们编译生成了网页数据")])]),t._v(" "),a("li",[a("code",[t._v("Deploy")]),t._v(" ：使用 "),a("a",{attrs:{href:"https://github.com/marketplace/actions/deploy-to-github-pages",target:"_blank",rel:"noopener noreferrer"}},[t._v("JamesIves/github-pages-deploy-action"),a("OutboundLink")],1),t._v(" 将生成的网页源码部署到 "),a("code",[t._v("gh-pages")]),t._v(" 分支上")])])]),t._v(" "),a("li",[t._v("当 "),a("code",[t._v("build-and-deploy")]),t._v(" 执行完毕后，运行 "),a("code",[t._v("sync-to-gitee")]),t._v(" 任务，其一共有两步 "),a("code",[t._v("step")]),t._v(" "),a("ol",[a("li",[a("code",[t._v("Sync to Gitee")]),t._v(" ：使用 "),a("a",{attrs:{href:"https://github.com/wearerequired/git-mirror-action",target:"_blank",rel:"noopener noreferrer"}},[t._v("wearerequired/git-mirror-action"),a("OutboundLink")],1),t._v(" 强制同步 Gitee 仓库")]),t._v(" "),a("li",[a("code",[t._v("Build Gitee Pages")]),t._v(" ：使用 "),a("a",{attrs:{href:"https://github.com/yanglbme/gitee-pages-action",target:"_blank",rel:"noopener noreferrer"}},[t._v("yanglbme/gitee-pages-action"),a("OutboundLink")],1),t._v(" 更新 Gitee Pages 服务，设置 "),a("code",[t._v("gh-pages")]),t._v(" 分支的根目录为渲染目录")])])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("注意：在自动部署方案中，我们不再使用单分支开发，我们将额外创建一个独立分支 "),a("code",[t._v("gh-pages")]),t._v(" 用来托管生成的网页源码。")]),t._v(" "),a("p",[t._v("我们的项目分支结构应该为：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("master")]),t._v(" ：存储 vuepress 构建代码")]),t._v(" "),a("li",[a("code",[t._v("gh-pages")]),t._v(" ：存储编译生成的网页源码")])]),t._v(" "),a("p",[t._v("该分支必须命名为 "),a("code",[t._v("gh-pages")]),t._v(" ，否则无法使用 Github Pages 服务，你无需手动创建，"),a("code",[t._v("JamesIves/github-pages-deploy-action")]),t._v(" 会自动帮我们创建该分支。")])]),t._v(" "),a("h4",{attrs:{id:"workflow敏感数据"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#workflow敏感数据"}},[t._v("#")]),t._v(" workflow敏感数据")]),t._v(" "),a("p",[t._v("在某些 "),a("code",[t._v("step")]),t._v(" 中，访问仓库，操作仓库等等一系列操作，会需要进行身份验证，这样就涉及到一些仓库令牌，访问密码之类的敏感数值，我们不能直接将其明文暴露在 "),a("code",[t._v("yml")]),t._v(" 文件中，所以我们使用了系统环境变量的方式存储在了你的仓库（虚拟机）中，通过")]),t._v(" "),a("div",{pre:!0},[a("p",[a("code",[t._v("${{ secret.NAME }}")])])]),a("p",[t._v("方法，能让我们从虚拟机中拿到这些数值。")]),t._v(" "),a("p",[t._v("接下来我们将逐个生成和设置这些敏感数据")]),t._v(" "),a("h5",{attrs:{id:"deploy"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#deploy"}},[t._v("#")]),t._v(" "),a("strong",[a("code",[t._v("Deploy")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("在这一步中虚拟机会将  "),a("code",[t._v("FOLDER")]),t._v(" 下的生成内容推送至 Github 仓库的 "),a("code",[t._v("gh-pages")]),t._v(" 分支，所以需要一个仓库的访问令牌，你可以参考 "),a("a",{attrs:{href:"https://docs.github.com/cn/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档 创建个人访问令牌"),a("OutboundLink")],1),t._v(" ，生成一个用于命令行访问仓库的个人令牌。")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 部署到分支")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deploy\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" JamesIves/github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deploy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@3.5.9\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 ACCESS_TOKEN : Personal access tokens")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ACCESS_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 需要部署的分支")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BRANCH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vue项目 build 目录")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("FOLDER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" .vuepress/dist\n")])])]),a("p",[a("strong",[t._v("个人头像 > Setting > Developer settings > "),a("a",{attrs:{href:"https://github.com/settings/tokens",target:"_blank",rel:"noopener noreferrer"}},[t._v("Personal access tokens"),a("OutboundLink")],1),t._v(" > Generate new token")])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"780","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806154720.png",loading:"lazy"}})]),t._v(" "),a("p",[a("code",[t._v("Note")]),t._v(" 仅用于提示令牌信息，"),a("strong",[t._v("需要注意勾选 "),a("code",[t._v("Scopes")]),t._v(" 中的 "),a("code",[t._v("repo")]),t._v(" 和 "),a("code",[t._v("workflow")])]),t._v("，点击 "),a("code",[t._v("Generate token")]),t._v(" 按钮生成 "),a("code",[t._v("token")])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"780","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806155101.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("之后页面会跳转会 "),a("code",[t._v("Personal access token")]),t._v(" ，并出现蓝色提示框，里面的字符串便是生成的个人令牌，这串数值只会显示这一次，当你离开当前页面后就会被永久隐藏，请务必保管好。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"780","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806155442.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("虽然你可以将其直接复制到 "),a("code",[t._v(".giyhub/workflowes/main.yml")]),t._v(" 文件的 "),a("code",[t._v("Deploy.with.ACCESS_TOKEN")]),t._v(" ，但是这样是十分不安全的。"),a("strong",[t._v("接下来我们将其保存至仓库的 Secrets 下。")])]),t._v(" "),a("blockquote",[a("p",[t._v("Secrets are environment variables that are "),a("strong",[t._v("encrypted")]),t._v(" and only exposed to selected actions. Anyone with "),a("strong",[t._v("collaborator")]),t._v(" access to this repository can use these secrets in a workflow.")])]),t._v(" "),a("p",[t._v("Secrets 相当于当前虚拟机的系统环境变量，在该仓库运行的 workflow 文件可以通过")]),t._v(" "),a("div",{pre:!0},[a("p",[a("code",[t._v("${{secrets.NAME}}")])])]),a("p",[t._v("访问这些系统变量。")]),t._v(" "),a("p",[a("strong",[t._v("仓库 > Setting > Secrets > New Secrets")]),t._v(" 按照以下方式填写")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806160224.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("Name 是存储系统环境变量的名称，你可以随意填写只需修改 workflow 文件中的变量名即可。点击 Add secret 即可完成仓库系统环境的添加，只后只要在 workflow 文件中以")]),t._v(" "),a("div",{pre:!0},[a("p",[a("code",[t._v("${{ secrets.ACCESS_TOKEN }}")])])]),a("p",[t._v("的方式即可访问预先设置好的环境变量。")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deploy\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" JamesIves/github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deploy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@3.5.9\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 ACCESS_TOKEN : Personal access tokens")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ACCESS_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 需要部署的分支")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BRANCH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vue项目 build 目录")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("FOLDER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" .vuepress/dist\n")])])]),a("h5",{attrs:{id:"sync-to-gitee"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sync-to-gitee"}},[t._v("#")]),t._v(" "),a("strong",[a("code",[t._v("Sync to Gitee")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("在这一步中 action 会完成 Gitee 仓库代码的同步，这里将会使用 "),a("a",{attrs:{href:"https://docs.github.com/cn/github/authenticating-to-github/connecting-to-github-with-ssh",target:"_blank",rel:"noopener noreferrer"}},[t._v("SSH公私钥配对"),a("OutboundLink")],1),t._v(" 的方式进行 Gitee 身份验证。如果你熟悉 Github SSH 的配布方式可以自行设置。")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 克隆项目至 gitee")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sync to Gitee\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wearerequired/git"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mirror"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@v1.0.1\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 GITEE_RSA_PRIVATE_KEY : id_rsa")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 个人设置 -> SSH公钥 -> 上传公钥")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("SSH_PRIVATE_KEY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.GITEE_RSA_PRIVATE_KEY "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 GitHub 源仓库地址 SSH")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git@github.com:QiJieH/blog.git"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 Gitee 目标仓库地址")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("destination-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git@gitee.com:qijieh/blog.git"')]),t._v("\n")])])]),a("p",[a("strong",[t._v("生成新 SSH 密钥")])]),t._v(" "),a("blockquote",[a("p",[t._v("如果你计算机中曾经设置过 Github 或 Gitee 的 SSH 服务可以跳过此步。")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("打开 Git Bash。")])]),t._v(" "),a("li",[a("p",[t._v("键入以下命令。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("ssh-keygen\n")])])])]),t._v(" "),a("li",[a("p",[t._v("提示您“Enter a file in which to save the key（输入要保存密钥的文件）”时，按 Enter 键。 这将接受默认文件位置。")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Enter a "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" to save the key "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("/c/Users/you/.ssh/id_rsa"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(":"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Press enter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("在提示时输入安全密码。 更多信息请参阅"),a("a",{attrs:{href:"https://docs.github.com/cn/articles/working-with-ssh-key-passphrases",target:"_blank",rel:"noopener noreferrer"}},[t._v("“使用 SSH 密钥密码”"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Enter passphrase "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("empty "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" no passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(": "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Type a passphrase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" Enter same passphrase again: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Type passphrase again"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])])]),t._v(" "),a("p",[t._v("运行上面步骤后在你的 "),a("code",[t._v("/c/Users/you/.ssh/")]),t._v(" 目录下会拥有两个文件")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("/c/Users/you/.ssh/\n\t> id_rsa    \t// 私钥存储在客户端\n\t> id_rsa_pub\t// 公钥存储在服务端\n")])])]),a("p",[t._v("你可以通过文本方式打开文件进行查看，接下来只需要将 "),a("code",[t._v("id_rsa_pub")]),t._v(" 上传至远程仓库即可。")]),t._v(" "),a("blockquote",[a("p",[t._v("这里参考的是 Github 的中文文档（文档比 Gitee 详细），SSH 公私钥生成是 Git 提供的服务，文档通用 。")]),t._v(" "),a("p",[t._v("Github 和 Gitee 都是基于 SSH 协议的 Git 服务，如果你在 Github 已经配置了 SSH ，你完全可以使用同一份公钥在 Gitee ，这样我们只使用一个私钥在两个平台都能进行验证。这里只需要在 Gitee 设置 SSH 。")])]),t._v(" "),a("p",[a("strong",[a("a",{attrs:{href:"https://gitee.com/help/articles/4191",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee SSH 公钥设置"),a("OutboundLink")],1)])]),t._v(" "),a("blockquote",[a("p",[t._v("注意此处我们需要生成的是 账户SSH Key 不是 仓库SSH Key，其区别如下：")]),t._v(" "),a("p",[t._v('和仓库"只读"权限的 SSH Key 相比，账户的 SSH Key '),a("strong",[t._v("同时具备"),a("code",[t._v("推送/拉取")]),t._v("的权限，对用户创建/参与的仓库均能使用")]),t._v("，使用起来更加方便。")])]),t._v(" "),a("p",[t._v("主页右上角 "),a("strong",[t._v("「个人设置」->「安全设置」->「SSH公钥」->「"),a("a",{attrs:{href:"https://gitee.com/profile/sshkeys",target:"_blank",rel:"noopener noreferrer"}},[t._v("添加公钥"),a("OutboundLink")],1),t._v("」")]),t._v(" ，添加生成的 public key 添加到当前账户中。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806164348.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("点击确定即可，可以不用管 SHA256 。")]),t._v(" "),a("p",[t._v("接下来，只需要将配套的将我们的 私钥"),a("code",[t._v("id_rsa")]),t._v(" 储存在 Github 仓库的 Secrects 中，这样 workflow文件就能通过读取系统环境变量")]),t._v(" "),a("div",{pre:!0},[a("p",[a("code",[t._v("${{secrect.Name}}")])])]),a("p",[t._v("的方式用私钥与 Gitee 上的公钥进行配对，以此验证身份，获得仓库操作权限。")]),t._v(" "),a("p",[a("strong",[t._v("Github 仓库 > Setting > Secrets > New Secrets")])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806174117.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("通过")]),t._v(" "),a("div",{pre:!0},[a("p",[a("code",[t._v("${{ secrtes.GITEE_RSA_PRIVATE_KEY }}")])])]),a("p",[t._v("与 Gitee 仓库进行 SSH 验证，获得 Gitee 仓库的操作权限。")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 克隆项目至 gitee")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Sync to Gitee\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wearerequired/git"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("mirror"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@v1.0.1\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("SSH_PRIVATE_KEY")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.GITEE_RSA_PRIVATE_KEY "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 GitHub 源仓库地址SSH Clone")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("source-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git@github.com:QiJieH/blog.git"')]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 Gitee 目标仓库地址 Sync")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("destination-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git@gitee.com:qijieh/blog.git"')]),t._v("\n")])])]),a("h5",{attrs:{id:"build-gitee-pages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#build-gitee-pages"}},[t._v("#")]),t._v(" "),a("strong",[a("code",[t._v("Build Gitee Pages")])])]),t._v(" "),a("hr"),t._v(" "),a("p",[t._v("完成代码的同步后，我们需要更新 Gitee Pages 服务，刷新网页内容。")]),t._v(" "),a("blockquote",[a("p",[t._v("Gitee Pages 服务不支持自动更新，开通会员的 Gitee Pages Pro 服务将支持。")]),t._v(" "),a("p",[t._v("该 yanglbme/gitee-pages-action 的 Action 应该是使用了类似网页脚本的方法替代了手动点击 Gitee Pages 的更新按钮。")]),t._v(" "),a("p",[t._v("注意：该 action 需要事先开启 Gitee 仓库的 Pages 服务才能正常运行。但是此时我们的 Gitee 仓库还是为空，无法启动 Gitee Pages 服务，所以你需要在第一次推送后手动前往 Gitee Pages 开启。")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新部署 gitee pages")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build Gitee Pages\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yanglbme/gitee"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@v1.1.3\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 Gitee 用户名")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" QiJieH\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 GITEE_PASSWORD : gitee password")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.GITEE_PASSWORD "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 Gitee 仓库")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" qijieh/blog\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 构建分支")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages\n")])])]),a("p",[t._v("这个 action 需要我们提供 Gitee 的账户密码，我们依旧将其存放在 Github 仓库的 Secrtes 中。")]),t._v(" "),a("p",[a("strong",[t._v("Github 仓库 > Setting > Secrets > New Secrets")])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806175611.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("点击 Add secret ，这样 workflow 文件便可以提供系统环境变量的方式")]),t._v(" "),a("div",{pre:!0},[a("p",[a("code",[t._v("${{ GITEE_PASSWORD }}")])])]),a("p",[t._v("访问到我们的 Gitee 账户密码。")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新部署 gitee pages")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build Gitee Pages\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" yanglbme/gitee"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@v1.1.3\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 Gitee 用户名")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" QiJieH\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 GITEE_PASSWORD : gitee password")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.GITEE_PASSWORD "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意替换为你的 Gitee 仓库")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("gitee-repo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" qijieh/blog\n            "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 构建分支")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("branch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages\n")])])]),a("h4",{attrs:{id:"vssue评论插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vssue评论插件"}},[t._v("#")]),t._v(" Vssue评论插件")]),t._v(" "),a("hr"),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806184726.png",loading:"lazy"}})]),t._v(" "),a("p",[a("a",{attrs:{href:"https://vssue.js.org/zh/guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vssue"),a("OutboundLink")],1),t._v(" 是一款无需后台的评论系统，其由 Vue 驱动并基于 Github 仓库的 Issue 实现。被广泛运用于博客，文档等无后端评论场景。")]),t._v(" "),a("p",[t._v("由于其配置需要 Github 仓库的 Issue 所以需要通过 "),a("a",{attrs:{href:"https://github.com/settings/developers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github OAuth Apps"),a("OutboundLink")],1),t._v(" 的接口数据。")]),t._v(" "),a("p",[t._v("由于 reco 主题已经将 Vssue 集合在了官方插件 "),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/plugins/comments.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("comment"),a("OutboundLink")],1),t._v(" 中，我们无需额外 "),a("code",[t._v("npm install")]),t._v("  ，通过参考 "),a("a",{attrs:{href:"https://vuepress-theme-reco.recoluan.com/views/plugins/comments.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("文档"),a("OutboundLink")],1),t._v(" 在项目的 "),a("code",[t._v(".vuepress/config.js")]),t._v(" 中引入插件")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  theme"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reco'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vuepress-reco/comments'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t\tsolution"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vssue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t\toptions"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      \t\t\tplatform"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'github'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      \t\t\towner"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'OWNER_OF_REPO'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      \t\t\trepo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'NAME_OF_REPO'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      \t\t\tclientId"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_CLIENT_ID'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      \t\t\tclientSecret"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'YOUR_CLIENT_SECRET'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("其中的 "),a("code",[t._v("owner")]),t._v(" 填写仓库拥有者，"),a("code",[t._v("repo")]),t._v(" 填写仓库名称，"),a("code",[t._v("clientId")]),t._v(" 和 "),a("code",[t._v("clientSecret")]),t._v(" 需要前往 Github 仓库设置。")]),t._v(" "),a("blockquote",[a("p",[t._v("我个人仓库的地址是 https://github.com/QiJieH/blog 配置如下：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("owner"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QiJieH'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\nrepo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'blog'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])]),t._v(" "),a("p",[t._v("依次点击 Github 的 "),a("strong",[t._v("个人头像 > Setting > Developer setting > "),a("a",{attrs:{href:"https://github.com/settings/developers",target:"_blank",rel:"noopener noreferrer"}},[t._v("OAuth Apps"),a("OutboundLink")],1),t._v(" > New OAuth App")])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806185536.png",loading:"lazy"}})]),t._v(" "),a("p",[a("code",[t._v("Homepage URL")]),t._v(" ：需要授权的网址")]),t._v(" "),a("p",[a("code",[t._v("Authorization callback URL")]),t._v(" ：授权回调地址")]),t._v(" "),a("p",[t._v("请自行修改该属性，填写完成后"),a("strong",[t._v("点击 Register application 提交")]),t._v("。")]),t._v(" "),a("p",[t._v("只后我们在 OAuth Apps 列表便可以看见列表了，点击其进入")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806190302.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("其中的 "),a("code",[t._v("Client ID")]),t._v(" 和 "),a("code",[t._v("Client Secret")]),t._v(" 便是 Vssue 插件需要的配置值了。")]),t._v(" "),a("p",[t._v("将 "),a("code",[t._v("Client ID")]),t._v(" 和 "),a("code",[t._v("Client Secret")]),t._v(" 直接填写在 "),a("code",[t._v("config.js")]),t._v(" 的 Vssue 插件配置中是不理智的，我们依旧可以使用 Github 仓库的 Secret 来存储这两个值，在 workflow 的编译 "),a("code",[t._v("build")]),t._v(" 阶段将其以")]),t._v(" "),a("div",{pre:!0},[a("p",[a("code",[t._v("${{ secret.Name }}")])])]),a("p",[t._v("的方式访问其值。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806192128.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("这里不再详细说明设置方法，请自行参考之前几个 Secret 的配置教程。")]),t._v(" "),a("p",[t._v("添加成功后在我们的 workflow 文件中添加相应代码，"),a("strong",[t._v("将其添加进编译过程的环境中")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[t._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 构建")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 VSSUE_CLIENT_ID : OAuth Apps")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("VSSUEID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.VSSUE_CLIENT_ID "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("VSSUESECRET")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.VSSUE_CLIENT_SECRET "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm install "),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" npm run build\n")])])]),a("p",[t._v("这样在虚拟机运行时在环境中就拥有了 "),a("code",[t._v("VSSUEID")]),t._v(" 和 "),a("code",[t._v("VSSUESECRET")]),t._v(" 两个变量，而 node 为我们提供在一个 "),a("code",[t._v("process.env")]),t._v(" 方法，让我们能够"),a("strong",[t._v("在编译的时候访问当前进程的环境变量")]),t._v("，我们只需要在 "),a("code",[t._v("config.js")]),t._v(" 的 Vssue 配置中使用该方法即可")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vuepress/config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  theme"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'reco'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vuepress-reco/comments'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \t\tsolution"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vssue'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t\toptions"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      \t\t\tplatform"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'github'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      \t\t\towner"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'QiJieH'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      \t\t\trepo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'blog'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      \t\t\tclientId"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VSSUEID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      \t\t\tclientSecret"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VSSUESECRET")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    \t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"开始推送"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开始推送"}},[t._v("#")]),t._v(" 开始推送")]),t._v(" "),a("p",[t._v("确保你已经替换 workflow 文件中的数据，并在 Github 和 Gitee 设置好了相应配置。检查你的 "),a("code",[t._v("main.yml")]),t._v(" 文件是否正确存储在路径 "),a("code",[t._v(".github/workflows/")]),t._v(" 下。")]),t._v(" "),a("p",[t._v("一切准备就绪后开始你的 Git 流程，并见证 Github Action 的强大。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"first deploy"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n")])])]),a("p",[t._v("推送完成后，打开 Github仓库的 Actions 按照图片依次点击进入 Action 运行日志")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806194019.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806194126.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("之后你便可以看见你的 workflow 文件正在被逐一执行。")]),t._v(" "),a("blockquote",[a("p",[t._v("绿勾代表执行成功")]),t._v(" "),a("p",[t._v("黄色代表正在执行")]),t._v(" "),a("p",[t._v("红叉代表执行出错")]),t._v(" "),a("p",[a("strong",[t._v("你可以在这里检查出错原因，请根据原因自行 debug ，这里列出几个常见的错误：")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("main.yml 语法错误，请检查Tab缩进")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"600","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806195900.png",loading:"lazy"}})])]),t._v(" "),a("li",[a("p",[t._v("仓库操作错误，令牌或密码配置不正确，请根据该步骤需要的数据检查")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"600","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806200032.png",loading:"lazy"}})])]),t._v(" "),a("li",[a("p",[t._v("部分 action 配置错误，以下错误是以为在 Deploy 中设置生成目录 "),a("code",[t._v(".vuepress/dist")]),t._v(" ，却在 "),a("code",[t._v("config.js")]),t._v(" 中设置 "),a("code",[t._v("dest")]),t._v(" 为 "),a("code",[t._v("docs")]),t._v(" ，导致虚拟机编译 "),a("code",[t._v("npm run build")]),t._v(" 后没有生成文件在 "),a("code",[t._v(".vuepress/dist")]),t._v(" 下，进而致使 Deploy 环节无法从 "),a("code",[t._v(".vuepress/dist")]),t._v(" 目录拉取代码到 "),a("code",[t._v("gh-pages")]),t._v(" 分支。")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 部署到分支")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Deploy\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("uses")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" JamesIves/github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("deploy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("action@3.5.9\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意在 Settings->Secrets 配置 ACCESS_TOKEN : Personal access tokens")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ACCESS_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 需要部署的分支")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("BRANCH")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" gh"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("pages\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# vue项目 build 目录")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("FOLDER")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" .vuepress/dist\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[t._v(" ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  dest"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('".vuepress/dist"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 确保这个目录与 FOLDER 保存一致")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"680","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806200421.png",loading:"lazy"}})])])])]),t._v(" "),a("p",[t._v("当所有的 Action 正常执行完成后，你可以查看 Github 仓库是否更新了 "),a("code",[t._v("gh-pages")]),t._v(" 分支，其是否存储了网页源码。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806194559.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("再访问你的 Gitee 仓库查看其是否同步了代码和分支。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806194734.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806194823.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("接下来你只需要手动配置一次两个仓库的 Pages 服务。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806195000.png",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806195059.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("之后便无需操心，每次提交 Github Action 都会为你完成一系列的工作。")]),t._v(" "),a("h4",{attrs:{id:"访问你的博客"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#访问你的博客"}},[t._v("#")]),t._v(" 访问你的博客")]),t._v(" "),a("p",[t._v("至此所有的自动部署已经完成，现在你的博客提交流程为：")]),t._v(" "),a("ol",[a("li",[t._v("书写博文，修改主题")]),t._v(" "),a("li",[a("code",[t._v("git push")])])]),t._v(" "),a("p",[t._v("Github Action 在你看不见的地方为了完成了一系列操作：")]),t._v(" "),a("ol",[a("li",[t._v("从仓库拉取代码")]),t._v(" "),a("li",[t._v("编译代码，生成网页源码，并推送到 "),a("code",[t._v("gh-pages")]),t._v(" 分支")]),t._v(" "),a("li",[t._v("同步 Gitee 代码")]),t._v(" "),a("li",[t._v("更新 Gitee Pages 服务")])]),t._v(" "),a("p",[t._v("现在，访问你的博客网站吧！")]),t._v(" "),a("h2",{attrs:{id:"图床搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#图床搭建"}},[t._v("#")]),t._v(" 图床搭建")]),t._v(" "),a("p",[t._v("尽管你可以在 Markdown 文件中使用相对路径对项目下的 "),a("code",[t._v("public")]),t._v(" 文件夹的图片进行引用，但是这样做无疑增加了我们仓库的容量占用，特别是当网站中引用大量图片时，我们不可能全部将其存储在 "),a("code",[t._v("public")]),t._v(" 文件夹下，这对网站性能和仓库容量都是一种极大的浪费。")]),t._v(" "),a("p",[t._v("对此我选择了 "),a("code",[t._v("PicGo + Gitee")]),t._v(" 在线图床的解决方案。借助于第三方的在线图床服务，我们可以在 Markdown 文件中通过 src 的方式访问在线的图片。")]),t._v(" "),a("p",[t._v("下载 "),a("a",{attrs:{href:"https://github.com/Molunerfinn/PicGo",target:"_blank",rel:"noopener noreferrer"}},[t._v("PicGo"),a("OutboundLink")],1),t._v(" 软件至你的电脑，安装并打开。")]),t._v(" "),a("p",[t._v("在插件设置中搜索 gitee 并安装插件。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806202625.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("安装成功后，打开 "),a("strong",[t._v("图床设置 > Gitee图床")])]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806204132.png",loading:"lazy"}})]),t._v(" "),a("p",[a("code",[t._v("owner")]),t._v(" ：仓库所有者")]),t._v(" "),a("p",[a("code",[t._v("repo")]),t._v(" ：仓库名称")]),t._v(" "),a("p",[a("code",[t._v("token")]),t._v(" ：个人令牌")]),t._v(" "),a("p",[t._v("访问 Gitee 创建图床仓库")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806203152.png",loading:"lazy"}})]),t._v(" "),a("blockquote",[a("p",[t._v("注意勾选 使用Readme文件初始化这个仓库")])]),t._v(" "),a("p",[t._v("点击 个人头像 > 设置 > 私人令牌 > 生成新令牌")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806203354.png",loading:"lazy"}})]),t._v(" "),a("p",[a("strong",[t._v("点击提交之后，令牌token会出现，请复制妥善保存。将其填入 PicGo 图床设置 > Gitee图床 > token 栏中。")])]),t._v(" "),a("p",[t._v("以我的仓库为例：")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806204018.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("应该填写：")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806202758.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("之后保持 PicGo 后台运行，当你的剪切板有图片或图片URL时，使用快捷键 Crtl + Shift + P 快速上传图片至仓库，随后你的剪切板将会返回图片的引用代码。")]),t._v(" "),a("p",[a("img",{staticClass:"lazy",attrs:{alt:"",width:"700","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200806204417.png",loading:"lazy"}})]),t._v(" "),a("p",[t._v("在此处可以选择引用何种代码片段。")]),t._v(" "),a("p",[t._v("PicGo 除了支持 Gitee 外还支持其他图床，你可以自行百度配置。")]),t._v(" "),a("blockquote",[a("p",[t._v("Gitee 单仓库容量 500M")]),t._v(" "),a("p",[t._v("Github 单仓库容量 1G")]),t._v(" "),a("p",[t._v("SM.MS 容量 5G ，但是上传有时间限制")])]),t._v(" "),a("h2",{attrs:{id:"seo优化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#seo优化"}},[t._v("#")]),t._v(" SEO优化")]),t._v(" "),a("p",[t._v("todo...")])])}),[],!1,null,null,null);s.default=n.exports}}]);