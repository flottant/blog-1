(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{614:function(t,a,s){"use strict";s.r(a);var n=s(3),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"dom-事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom-事件"}},[t._v("#")]),t._v(" DOM 事件")]),t._v(" "),s("p"),s("div",{staticClass:"table-of-contents"},[s("ul",[s("li",[s("a",{attrs:{href:"#注册事件"}},[t._v("注册事件")])]),s("li",[s("a",{attrs:{href:"#删除事件"}},[t._v("删除事件")])]),s("li",[s("a",{attrs:{href:"#dom-事件流"}},[t._v("DOM 事件流")])]),s("li",[s("a",{attrs:{href:"#事件对象"}},[t._v("事件对象")])]),s("li",[s("a",{attrs:{href:"#阻止事件冒泡"}},[t._v("阻止事件冒泡")])]),s("li",[s("a",{attrs:{href:"#事件委托"}},[t._v("事件委托")])]),s("li",[s("a",{attrs:{href:"#常用的鼠标事件"}},[t._v("常用的鼠标事件")])]),s("li",[s("a",{attrs:{href:"#常用的键盘事件"}},[t._v("常用的键盘事件")])]),s("li",[s("a",{attrs:{href:"#本章案例"}},[t._v("本章案例")]),s("ul",[s("li",[s("a",{attrs:{href:"#图片跟随鼠标移动"}},[t._v("图片跟随鼠标移动")])]),s("li",[s("a",{attrs:{href:"#点击按键聚集焦点"}},[t._v("点击按键聚集焦点")])]),s("li",[s("a",{attrs:{href:"#输入内容显示放大"}},[t._v("输入内容显示放大")])])])])])]),s("p"),t._v(" "),s("h2",{attrs:{id:"注册事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注册事件"}},[t._v("#")]),t._v(" 注册事件")]),t._v(" "),s("p",[t._v("给元素添加事件，称为注册事件或者绑定事件")]),t._v(" "),s("p",[t._v("注册事件有两种方式：")]),t._v(" "),s("p",[s("strong",[t._v("传统注册方式")])]),t._v(" "),s("ul",[s("li",[t._v("利用 on 开头的事件 比如 ："),s("code",[t._v("onclick")]),t._v(" "),s("code",[t._v("onfocus")]),t._v(" "),s("code",[t._v("onmouseover")])]),t._v(" "),s("li",[t._v("特点：注册事件的唯一性，即一个事件源只能有一个 on 事件，相同的 on 事件只会执行文档流最后的事件。")])]),t._v(" "),s("p",[s("strong",[t._v("方法监听注册方式")])]),t._v(" "),s("ul",[s("li",[t._v("w3c 标准，推荐方式")]),t._v(" "),s("li",[s("code",[t._v("addEventListen()")]),t._v(" 方法")]),t._v(" "),s("li",[t._v("ie9 之前不支持此方法，解决方案使用  "),s("code",[t._v("attachEvent()")]),t._v("  替换")]),t._v(" "),s("li",[t._v("特点：一个事件源可以注册多个监听器，按注册顺序依次执行")])]),t._v(" "),s("p",[s("strong",[t._v("传统注册方式")])]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("在 DOM 事件基础中已经详细介绍传统注册方式，这里不再赘述。")]),t._v(" "),s("p",[s("strong",[t._v("方法监听注册方式")])]),t._v(" "),s("hr"),t._v(" "),s("p",[s("strong",[t._v("关键语法：")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("eventTarget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" listener"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" userCapture"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("code",[t._v("eventTarget.addEventListener()")]),t._v(" 方法将指定的监听器注册到 eventTarget (目标对象) 上，当该对象触发指定事件时，就会执行事件处理函数。")]),t._v(" "),s("p",[t._v("该方法接收三个参数：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("type")]),t._v(" ：事件类型字符串， 比如："),s("code",[t._v("click")]),t._v(" , "),s("code",[t._v("mouseover")]),t._v("... ，注意这里不需要 on")]),t._v(" "),s("li",[s("code",[t._v("listener")]),t._v(" ：事件处理函数，事件发生时，会调用该监听函数")]),t._v(" "),s("li",[s("code",[t._v("useCapture")]),t._v("：可选参数，是一个布尔值，默认是 "),s("code",[t._v("false")]),t._v(" 。为 "),s("code",[t._v("true")]),t._v(" 时，表示在事件捕获阶段调用事件处理程序，否则在事件冒泡阶段调用。")])]),t._v(" "),s("blockquote",[s("p",[t._v("实例：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'button'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbtn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加多次事件 会按顺序执行")]),t._v("\nbtn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click again'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("p",[s("strong",[t._v("ie9兼容解决方案 （非提倡）")])]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("关键语法：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("eventTarget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachEvent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("eventNameWithOn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("code",[t._v("eventTarget.attachEvent()")]),t._v(" 方法将指定的监听器注册到 eventTarget （目标对象）上，当该对象触发指定的事件时，指定的回调函数就会被执行。")]),t._v(" "),s("p",[t._v("该方法接收两个参数：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("eventNameWithOn")]),t._v(" ：事件类型字符串，比如 "),s("code",[t._v("onclick")]),t._v(" , "),s("code",[t._v("onmouseover")]),t._v(" ... ，这里需要带上 on")]),t._v(" "),s("li",[s("code",[t._v("callback")]),t._v(" ：事件处理函数，当目标触发事件时回调函数会被调用")])]),t._v(" "),s("blockquote",[s("p",[t._v("全版本兼容可以自行判断浏览器内核，对不同版本返回不同函数方式，封装为一个函数，在项目中使用即可")]),t._v(" "),s("p",[t._v("或者使用传统事件注册方式")])]),t._v(" "),s("h2",{attrs:{id:"删除事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除事件"}},[t._v("#")]),t._v(" 删除事件")]),t._v(" "),s("p",[s("strong",[t._v("1. 传统删除方式，即注册空事件")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("eventTarget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onEvent "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v("\n")])])]),s("p",[s("code",[t._v("onEvent")]),t._v(" ：事件类型字符串，比如："),s("code",[t._v("onclick")]),t._v(","),s("code",[t._v("onmouseover")]),t._v(",`onfocus...")]),t._v(" "),s("p",[s("strong",[t._v("2. 方法监听删除")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("eventTarget"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("参数说明：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("type")]),t._v(" ：事件类型字符串， 比如："),s("code",[t._v("click")]),t._v(" , "),s("code",[t._v("mouseover")]),t._v("... ，注意这里不需要 on")]),t._v(" "),s("li",[s("code",[t._v("function")]),t._v(" ：移除事件函数名")])]),t._v(" "),s("blockquote",[s("p",[t._v("使用该方法移除事件时，注册事件函数必须暴露事件名，即注册事件不能为匿名函数")])]),t._v(" "),s("h2",{attrs:{id:"dom-事件流"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#dom-事件流"}},[t._v("#")]),t._v(" DOM 事件流")]),t._v(" "),s("p",[t._v("事件流描述的是从页面中接收事件的顺序。")]),t._v(" "),s("p",[t._v("事件发生时会在元素节点之间按照特定的顺序传播，这个传播过程即 DOM 事件流。")]),t._v(" "),s("p",[t._v("DOM 事件流分为3个阶段")]),t._v(" "),s("ol",[s("li",[t._v("捕获阶段")]),t._v(" "),s("li",[t._v("当前目标阶段")]),t._v(" "),s("li",[t._v("冒泡阶段")])]),t._v(" "),s("blockquote",[s("p",[t._v("事件捕获：网景最早提出，由 DOM 最顶层节点开始，然后逐级向下传播到具体元素接收的过程")]),t._v(" "),s("p",[t._v("事件冒泡：IE 最早提出，事件开始时由最具体的元素接收，然后逐级向上传播到 DOM 最顶层节点的过程")])]),t._v(" "),s("p",[t._v("捕获阶段示意图：")]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200807164011.png",loading:"lazy"}})]),t._v(" "),s("p",[t._v("冒泡阶段示意图：")]),t._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"","data-src":"https://gitee.com/QiJieH/blog-image-bed/raw/master//20200807164023.png",loading:"lazy"}})]),t._v(" "),s("p",[s("strong",[t._v("个人理解总结")])]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("事件流即事件穿透/传递过程")]),t._v(" "),s("p",[t._v("由于 DOM 树是层层嵌套的，以点击事件为例，其传递流程应该是")]),t._v(" "),s("p",[s("code",[t._v("Document -> html -> body -> fatherdiv -> sondiv")])]),t._v(" "),s("p",[t._v("点击事件会从顶层逐级传递，直到被事件监听函数捕获。这个流程被称为 捕获阶段，通过 "),s("code",[t._v("eventTarget.addEventListener(type, function, true)")])]),t._v(" "),s("p",[t._v("设置第三个参数为 "),s("code",[t._v("true")]),t._v(" 使事件以"),s("strong",[t._v("顶层穿透")]),t._v("这种方式传递。")]),t._v(" "),s("p",[t._v("通过设置其参数为 "),s("code",[t._v("false")]),t._v(" 即为冒泡阶段，这种方式是最常用的，该传递方式会忽略顶层穿透，逆向传递点击事件。")]),t._v(" "),s("p",[s("code",[t._v("sondiv -> fatherdiv -> body -> html ->document")])]),t._v(" "),s("p",[t._v("我更喜欢称之为"),s("strong",[t._v("底层穿透")]),t._v("方式。")]),t._v(" "),s("blockquote",[s("p",[t._v("在实际开发中很少使用到事件捕获，我们更关注事件冒泡")]),t._v(" "),s("p",[t._v("某些事件是没有冒泡行为的："),s("code",[t._v("onblur")]),t._v(","),s("code",[t._v("onfocus")]),t._v(","),s("code",[t._v("onmouseenter")]),t._v(","),s("code",[t._v("onmouseleave")])]),t._v(" "),s("p",[t._v("事件冒泡机制实现一些很巧妙的功能，但有时也会带来麻烦")])]),t._v(" "),s("h2",{attrs:{id:"事件对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件对象"}},[t._v("#")]),t._v(" 事件对象")]),t._v(" "),s("p",[t._v("在监听事件函数中我们可以声明一个事件对象 "),s("code",[t._v("event")]),t._v("，"),s("code",[t._v("evt")]),t._v("，"),s("code",[t._v("e")])]),t._v(" "),s("p",[t._v("只有事件存在，事件对象才会存在，它里面包含了一系列事件相关数据的集合。")]),t._v(" "),s("blockquote",[s("p",[t._v("实例：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("btn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onclick")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'onclick'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n event "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" window"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("ie678 中可以使用 "),s("code",[t._v("window.event")]),t._v(" 获取事件对象")])]),t._v(" "),s("p",[s("strong",[t._v("事件对象常见属性和方法")])]),t._v(" "),s("hr"),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("方法")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("e.target")])]),t._v(" "),s("td",[t._v("返回触发事件的对象 标准")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.srcElement")])]),t._v(" "),s("td",[t._v("返回触发事件的对象 非标准 ie678")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.type")])]),t._v(" "),s("td",[t._v("返回事件类型 如："),s("code",[t._v("click")]),t._v(","),s("code",[t._v("mousemover")]),t._v("...")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.stopPropagation()")])]),t._v(" "),s("td",[t._v("阻止事件冒泡 标准")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.cancelBubble")])]),t._v(" "),s("td",[t._v("阻止事件冒泡 非标准 ie678")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.preventDefault()")])]),t._v(" "),s("td",[t._v("阻止事件触发 标准")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.returnValue")])]),t._v(" "),s("td",[t._v("阻止事件触发 非标准 ie678")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("我们也可以在事件中使用 "),s("code",[t._v("return")]),t._v("方法阻止事件运行，但是这种方法会中断 "),s("code",[t._v("return")]),t._v(" 之后的代码运行")])]),t._v(" "),s("h2",{attrs:{id:"阻止事件冒泡"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#阻止事件冒泡"}},[t._v("#")]),t._v(" 阻止事件冒泡")]),t._v(" "),s("p",[t._v("事件冒泡特性有好有坏，需要灵活运用。")]),t._v(" "),s("p",[t._v("阻止冒泡会终止事件向上级传递。")]),t._v(" "),s("p",[s("strong",[t._v("标准语法：")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stopPropagation")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("code",[t._v("event")]),t._v(" ：事件对象")]),t._v(" "),s("p",[s("strong",[t._v("非标准写法：")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("event"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cancelBubble "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n")])])]),s("p",[s("code",[t._v("event")]),t._v(" ：事件对象")]),t._v(" "),s("h2",{attrs:{id:"事件委托"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#事件委托"}},[t._v("#")]),t._v(" 事件委托")]),t._v(" "),s("p",[t._v("事件委托也称为事件代理，事件委派，是事件冒泡特性的运用")]),t._v(" "),s("p",[t._v("现有以下场景：")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("ul")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("第一项"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("第二项"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("第三项"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("第四项"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("第五项"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("li")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("ul")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("要求为点击每个 "),s("code",[t._v("li")]),t._v(" 时弹出提示框，如果不使用事件冒泡特性，循环为 "),s("code",[t._v("li")]),t._v(" 注册事件是不优雅的，而且访问的 DOM 越多，页面加载速度和交互速度也会变慢。")]),t._v(" "),s("p",[t._v("实现思路：")]),t._v(" "),s("p",[t._v("为 "),s("code",[t._v("ul")]),t._v(" 注册点击事件，利用事件对象的 "),s("code",[t._v("target")]),t._v(" 来找到当前点击的 "),s("code",[t._v("li")]),t._v(" ，因为点击 "),s("code",[t._v("li")]),t._v(" 会冒泡到 "),s("code",[t._v("ul")]),t._v(" 上， "),s("code",[t._v("ul")]),t._v(" 有事件注册，就会触发事件监听器。")]),t._v(" "),s("p",[t._v("这样我们只操作了一次 DOM 即只为 "),s("code",[t._v("ul")]),t._v(" 添加了事件监听，提高了程序性能。")]),t._v(" "),s("blockquote",[s("p",[t._v("实现代码：")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ul "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ul'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nul"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onclick")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("h2",{attrs:{id:"常用的鼠标事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用的鼠标事件"}},[t._v("#")]),t._v(" 常用的鼠标事件")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("事件")]),t._v(" "),s("th",[t._v("触发事件")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("onlick")])]),t._v(" "),s("td",[t._v("鼠标点击")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onmouseover")])]),t._v(" "),s("td",[t._v("鼠标经过")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onmouseout")])]),t._v(" "),s("td",[t._v("鼠标离开")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onfocus")])]),t._v(" "),s("td",[t._v("获得焦点")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onblur")])]),t._v(" "),s("td",[t._v("失去焦点")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onmousemove")])]),t._v(" "),s("td",[t._v("鼠标移动")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onmouseup")])]),t._v(" "),s("td",[t._v("鼠标弹起")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onmousedown")])]),t._v(" "),s("td",[t._v("鼠标按下")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("contextmenu")])]),t._v(" "),s("td",[t._v("鼠标右键菜单")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("selectstart")])]),t._v(" "),s("td",[t._v("鼠标选中")])])])]),t._v(" "),s("p",[t._v("禁止鼠标右键菜单")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'contextmenu'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 阻止事件运行")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("禁止鼠标选中")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("element"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'selectstart'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("preventDefault")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[s("strong",[t._v("鼠标事件对象")])]),t._v(" "),s("hr"),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("对象")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("e.clientX")])]),t._v(" "),s("td",[t._v("返回鼠标相对于浏览器可视区窗口的 x 坐标")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.clientY")])]),t._v(" "),s("td",[t._v("返回鼠标相对于浏览器可视区窗口的 Y 坐标")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.pageX")])]),t._v(" "),s("td",[t._v("返回鼠标相对于文档页面的 x 坐标 ie9+")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.pageY")])]),t._v(" "),s("td",[t._v("返回鼠标相对于文档页面的 Y 坐标 ie9+")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.screenX")])]),t._v(" "),s("td",[t._v("返回鼠标相对于电脑屏幕的 x 坐标")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("e.screenY")])]),t._v(" "),s("td",[t._v("返回鼠标相对于电脑屏幕的 Y 坐标")])])])]),t._v(" "),s("h2",{attrs:{id:"常用的键盘事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用的键盘事件"}},[t._v("#")]),t._v(" 常用的键盘事件")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("事件")]),t._v(" "),s("th",[t._v("触发条件")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("onkeyup")])]),t._v(" "),s("td",[t._v("某个键弹起")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onkeydown")])]),t._v(" "),s("td",[t._v("某个键按下")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("onkeypress")])]),t._v(" "),s("td",[t._v("某个键按下 不能识别功能键 如 ctrl shift 方向键...")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("执行顺序：")]),t._v(" "),s("p",[s("code",[t._v("keydown")]),t._v(" -> "),s("code",[t._v("keypress")]),t._v(" -> "),s("code",[t._v("keyup")])]),t._v(" "),s("p",[s("code",[t._v("keyup")]),t._v(" 和 "),s("code",[t._v("keydown")]),t._v(" 不区分按下的大小写，在事件对象中无法辨识大小写，"),s("code",[t._v("key press")]),t._v(" 支持区分大小写")])]),t._v(" "),s("p",[s("strong",[t._v("键盘事件对象")])]),t._v(" "),s("hr"),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("对象")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("e.keyCode")])]),t._v(" "),s("td",[t._v("返回按下键盘的 ASCII 值")])])])]),t._v(" "),s("h2",{attrs:{id:"本章案例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#本章案例"}},[t._v("#")]),t._v(" 本章案例")]),t._v(" "),s("h3",{attrs:{id:"图片跟随鼠标移动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片跟随鼠标移动"}},[t._v("#")]),t._v(" 图片跟随鼠标移动")]),t._v(" "),s("p",[t._v("需求：需要一张图片在页面中跟随用户鼠标移动")]),t._v(" "),s("p",[t._v("实现思路：")]),t._v(" "),s("ul",[s("li",[t._v("鼠标不断移动，鼠标移动事件 "),s("code",[t._v("mousemove")])]),t._v(" "),s("li",[t._v("在整个页面移动，给 "),s("code",[t._v("document")]),t._v(" 注册事件")]),t._v(" "),s("li",[t._v("图片要移动位置，但是不占据页面空间，使用 "),s("code",[t._v("absolute")]),t._v(" 定位")]),t._v(" "),s("li",[t._v("每次移动鼠标，都会获取新的鼠标坐标，将这个坐标设置为图片的 "),s("code",[t._v("top")]),t._v(" "),s("code",[t._v("left")]),t._v(" 值即可。")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" img "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'img'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mousemove'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageY "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    img"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("left "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pageX "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"点击按键聚集焦点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#点击按键聚集焦点"}},[t._v("#")]),t._v(" 点击按键聚集焦点")]),t._v(" "),s("p",[t._v("需求：当用户在页面按下 s 键时，搜索框获得焦点，开始输入。")]),t._v(" "),s("p",[t._v("实现思路：")]),t._v(" "),s("ul",[s("li",[t._v("为 "),s("code",[t._v("document")]),t._v(" 添加按键监听事件")]),t._v(" "),s("li",[t._v("使用键盘事件对象中的 "),s("code",[t._v("keyCode")]),t._v(" 判断用户按下的键")]),t._v(" "),s("li",[t._v("使用 "),s("code",[t._v("focus()")]),t._v(" 方法使文本框获取焦点")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" input "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keyup'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keyCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("83")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        input"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("focus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"输入内容显示放大"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#输入内容显示放大"}},[t._v("#")]),t._v(" 输入内容显示放大")]),t._v(" "),s("p",[t._v("需求：当用户在表单输入时，浮现用户输入内容到上方并放大输入内容。")]),t._v(" "),s("p",[t._v("实现思路：")]),t._v(" "),s("ul",[s("li",[t._v("用户输入，"),s("code",[t._v("div")]),t._v(" 盒子显示")]),t._v(" "),s("li",[t._v("检测用户输入，为表单添加键盘事件")]),t._v(" "),s("li",[t._v("将表单 "),s("code",[t._v("value")]),t._v(" 获取并通过 "),s("code",[t._v("innerHTML")]),t._v(" 赋值给"),s("code",[t._v("div")])]),t._v(" "),s("li",[t._v("如果输入为空则隐藏 "),s("code",[t._v("div")])])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" div "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.div'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" input "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ninput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'keyup'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("e")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'block'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        div"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("display "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("blockquote",[s("p",[t._v("注意 "),s("code",[t._v("keydown")]),t._v("，"),s("code",[t._v("keypress")]),t._v("的触发时机，当按键按下时立即触发，但是此时表单并没有进行输入")]),t._v(" "),s("p",[t._v("这是"),s("code",[t._v("keydown")]),t._v("，"),s("code",[t._v("keypress")]),t._v("在表单输入的特性")])])])}),[],!1,null,null,null);a.default=e.exports}}]);